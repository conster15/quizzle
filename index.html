<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"></html>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="js/external.js"></script>
    <link rel="stylesheet" href="quizzle/style.css" />

    <style>
      /* Your existing CSS styles here */
      a {
        text-decoration: none;
        color: black;
      }

      #piece {
        z-index: 100;
        position: absolute;
        top: 40px;
        left: 20px;
        background-image: img src="/puzzle-cursor.png";
        background-repeat: no-repeat;
        display: none; /* Hide the element by default */
      }
    

      .textcontainer {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        margin-top: 5em;
        position: relative;
        z-index: 2;
      }

      .textcontainer h2:nth-child(2) {
       position: relative;
        z-index: -1;
        white-space: normal;
        width: 90%;
        opacity: 0;
        
        font-family: "Mukta Malar", sans-serif;
        font-size: 20vmin;
        font-weight: 600;
        text-align: center;
        margin-left: 6vmin;
        margin-right: auto;
        margin-top: 0;
        margin-bottom: -1em;
        background: linear-gradient(to right, #1c1c1c, #1c1c1c, #b45f06);
        letter-spacing: 0.25vw;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        -webkit-animation: type 2s steps(8, end) 2s forwards,
          blink 0.5s step-end infinite alternate;
        animation: shring-animation 2s steps(8, end) forwards;
        -webkit-animation-delay: 1.5s;
        animation-delay: 1.5s;
        -webkit-animation-fill-mode: forwards;
      }

      @keyframes shring-animation {
        0% {
          background-position: 0 0;
          opacity: 0;
          width: 0;
        }
        1% {
          background-position: 0 0;
          opacity: 1;
          border-right: 1px solid orange;
        }
        50% {
          background-position: 50% 0;
          opacity: 1;
          border-right: 1px solid orange;
        }
        100% {
          background-position: 100% 0;
          opacity: 1;
          border-right: 0px solid orange;
        }
      }

      @keyframes type {
        0% {
          width: 0;
        }
        1%,
        100% {
          border-right: 1px solid orange;
        }
        100% {
          border-right: 0px;
        }
      }

      @-webkit-keyframes type {
        from {
          width: 0;
        }
      }

      @keyframes type2 {
        0% {
          width: 0;
        }
        from {
          opacity: 0;
        }
        1% {
          opacity: 1;
        }
        to {
          opacity: 1;
        }
        100% {
          opacity: 1;
        }
      }
      @-webkit-keyframes type2 {
        0% {
          width: 0;
        }
        from {
          opacity: 0;
        }
        1% {
          opacity: 1;
        }
        to {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      svg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
      }

      a {
        text-decoration: none;
        color: black;
        margin-left: 1em;
      }
      a:hover {
        text-decoration: underline;
      }

      a img.icon {
        display: inline-block;
        height: 1em;
        margin: 0 0 -0.1em 0.3em;
      }

      svg {
        background-color: #7bc165;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        z-index: -5;
      }

      @media screen (max-width: 400px) {
        h3 {
          margin-top: 1.5em;
        }
      }

      @media (max-width: 767px) {
        .bottom-area h3 {
          line-height: 1.5; /* Adjust the value for desired spacing */
          margin-top: 1em;
        }
        h2 {
          font-size: 80%;
        }
      }

      h3 {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        margin-top: 1em;
        z-index: 5;
        font-size: 1.8rem;
        line-height: 1.5;
      } 
      
    
      
   @media (max-width: 420px) {
        h4 {
          margin-top: 2em !important;
        }
      }
      @media (max-width: 600px) {
        h4 {
          margin-top: 3em !important;
        }
      }


      @media (max-width: 767px) {
        h4 {
          margin-top: 3.5em;
        }
      
    
    </style>
  </head>

  <body>
      
    
    <div id="test" class="textcontainer" style="margin-top: 50px">
      <h1>Coming Soon</h1>
      <h2>Quizzle</h2>
  
      
    
    <img
        id="one" border="0"
        src="https://cdn.glitch.global/33771cbc-e3d4-445c-9cac-f915eb7bb34a/puzzle-slot.png?v=1729839211407"
        position="absolute;"
        style="max-width: 64px;" 
         cursor="auto;"
         z-index="2;"
          
      /> 
     
      
      
      <img class="out" id="two" 
           src="https://cdn.glitch.global/33771cbc-e3d4-445c-9cac-f915eb7bb34a/puzzle-big.png?v=1729888489514" 
           style="max-width: 64px;" 
           position="absolute;" 
           cursor="auto;"
          
           z-index="3;"/>
      
    </div>

    <img
      id="piece"
      src="https://cdn.glitch.global/33771cbc-e3d4-445c-9cac-f915eb7bb34a/puzzle-piece.png?v=1729838970505"
      style="max-width: 64px"
    />

    <svg
      xmlns="http://www.w3.org/2000/svg"
      preserveaspectratio="xMidYMid slice"
      viewbox="0 0 100 100"
    >
      <defs>
        <style>
          @keyframes rotate {
            100% {
              transform: rotate(360deg);
            }
          }
          .out-top {
            animation: rotate 20s linear infinite;
            transform-origin: 13px 25px;
          }
          .in-top {
            animation: rotate 10s linear infinite;
            transform-origin: 13px 25px;
          }
          .out-bottom {
            animation: rotate 25s linear infinite;
            transform-origin: 84px 93px;
          }
          .in-bottom {
            animation: rotate 15s linear infinite;
            transform-origin: 84px 93px;
          }
        </style>
      </defs>
      /*top left large */
      <path
        fill="#e56591"
        class="out-top"
        d="M37-5C25.1-14.7,5.7-19.1-9.2-10-28.5,1.8-32.7,31.1-19.8,49c15.5,21.5,52.6,22,67.2,2.3C59.4,35,53.7,8.5,37-5Z"
      />
      /*top left small*/
      <path
        fill="#fd9550"
        class="in-top"
        d="M20.6,4.1C11.6,1.5-1.9,2.5-8,11.2-16.3,23.1-8.2,45.6,7.4,50S42.1,38.9,41,24.5C40.2,14.1,29.4,6.6,20.6,4.1Z"
      />
      /*bottom right large*/
      <path
        fill="#1d9797"
        class="out-bottom"
        d="M105.9,48.6c-12.4-8.2-29.3-4.8-39.4.8-23.4,12.8-37.7,51.9-19.1,74.1s63.9,15.3,76-5.6c7.6-13.3,1.8-31.1-2.3-43.8C117.6,63.3,114.7,54.3,105.9,48.6Z"
      />
      /*bottom right small*/
      <path
        fill="#e5eb71"
        class="in-bottom"
        d="M102,67.1c-9.6-6.1-22-3.1-29.5,2-15.4,10.7-19.6,37.5-7.6,47.8s35.9,3.9,44.5-12.5C115.5,92.6,113.9,74.6,102,67.1Z"
      />
    </svg>

    <div class="bottom-area">
      <h4>the game where</h4>
      <h3>Quizmasters and Puzzlers unite</h3>
    </div>
  </body>

    <script>
const piece = document.getElementById("piece");
const one = document.getElementById("one");
const two = document.getElementById("two");

let isDragging = false;
let initialX = null;
let initialY = null;
      
// Store initial positions of 'one' and 'piece'
const initialOneLeft = one.offsetLeft;
const initialOneTop = one.offsetTop;
const initialPieceLeft = piece.offsetLeft;
const initialPieceTop = piece.offsetTop;      

piece.addEventListener("touchstart", (event) => {
  initialX = event.touches[0].clientX;
  initialY = event.touches[0].clientY;
  isDragging = true;
});

piece.addEventListener("touchmove", (event) => {
  event.preventDefault();

  if (isDragging) {
    const currentX = event.touches[0].clientX;
    const currentY = event.touches[0].clientY;

    // Calculate the difference in position since the last touchmove event
    const deltaX = currentX - initialX;
    const deltaY = currentY - initialY;

    // Update the position of the piece element, limiting it to the screen boundaries
    const newLeft = Math.max(0, Math.min(piece.offsetLeft + deltaX, window.innerWidth - piece.offsetWidth));
    const newTop = Math.max(0, Math.min(piece.offsetTop + deltaY, window.innerHeight - piece.offsetHeight));

    piece.style.left = newLeft + "px";
    piece.style.top = newTop + "px";

    // Update the initial position for the next touchmove event
    initialX = currentX;
    initialY = currentY;
    
  

    // Check for overlap and trigger animation and swap if necessary
    const pieceRect = piece.getBoundingClientRect();
    const oneRect = one.getBoundingClientRect();

    if (
      pieceRect.right >= oneRect.left &&
      pieceRect.left <= oneRect.right &&
      pieceRect.bottom >= oneRect.top &&
      pieceRect.top <= oneRect.bottom
    ) {
      // Trigger animation (adjust animation class and duration as needed)
      one.classList.add("animate-out");
      piece.classList.add("animate-in");
      two.classList.add("animate-in");

      // After animation, swap positions and remove animation classes
      setTimeout(() => {
        const  oneRectAfter = one.getBoundingClientRect();
        const pieceRectAfter = piece.getBoundingClientRect();
       
        one.style.left = pieceRectAfter.left + "px";
        one.style.top = pieceRectAfter.top + "px";
        
        piece.style.left = oneRectAfter.left + "px";
        piece.style.top = oneRectAfter.top + "px";
        
         // Reset positions after animation
      one.style.left = initialOneLeft + 'px';
      one.style.top = initialOneTop + 'px';
      piece.style.left = initialPieceLeft + 'px';
      piece.style.top = initialPieceTop + 'px';


        one.classList.remove("animate-out");
        piece.classList.remove("animate-in");
        two.classList.remove("animate-in");
      }, 1000); // Adjust the timeout duration as needed
    }
  }
});

piece.addEventListener("touchend", () => {
  isDragging = false;
});


      
   window.addEventListener("DOMContentLoaded", () => {
  const piece = document.getElementById("piece");
  // Initial check
  checkForMouse();

  // Event listeners for cursor changes and window resize
  window.addEventListener("mousemove", checkForMouse);
  window.addEventListener("resize", checkForMouse);
});
   

    // Check for mouse cursor presence and apply media query
    function checkForMouse() {
      if (
        document.documentElement.style.cursor !== "none" &&
        window.innerWidth >= 500
      ) {
        // Adjust the breakpoint as needed
        piece.style.display = "none";
      } else {
        piece.style.display = "block";
      }
    }

  </script>
  
  
  
  
  
</html>
